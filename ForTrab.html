<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informe de Situación Actual de Emergencia</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function enviarFormulario(event) {
            event.preventDefault();

            const formData = new FormData(event.target);

            fetch('/informar-situacion', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    console.log('Formulario enviado', data);
                    alert('Formulario enviado correctamente');
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Hubo un problema al enviar el formulario');
                });
        }
    </script>
</head>

<body>
    <header>
        <nav class="navbar">
            <h1>Luz Alerta</h1>
            <ul>
                <li><a href="#login">Inicio</a></li>
                <li><a href="#about">Quienes somos</a></li>
                <li><a href="#contact">Contacto</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h1>Informe de Situación Actual de Emergencia</h1>
        <form id="form-emergencia" onsubmit="enviarFormulario(event)" enctype="multipart/form-data">
            <form action="/informar-situacion" method="POST" enctype="multipart/form-data">

                <!-- Sección 1: Información del Reporte -->
                <fieldset>
                    <legend>Información del Reporte</legend>

                    <label for="id_emergencia">ID de la Emergencia:</label>
                    <input type="text" id="id_emergencia" name="id_emergencia" required readonly value="123456"><br><br>

                    <label for="fecha_actualizacion">Fecha de Actualización:</label>
                    <input type="date" id="fecha_actualizacion" name="fecha_actualizacion" required><br><br>

                    <label for="hora_actualizacion">Hora de Actualización:</label>
                    <input type="time" id="hora_actualizacion" name="hora_actualizacion" required><br><br>

                    <label for="estado_emergencia">Estado Actual de la Emergencia:</label>
                    <select id="estado_emergencia" name="estado_emergencia" required>
                        <option value="">Seleccione el estado actual</option>
                        <option value="en_proceso">En proceso</option>
                        <option value="resuelta">Resuelta</option>
                        <option value="pendiente">Pendiente</option>
                        <option value="suspendida">Suspendida</option>
                    </select><br><br>

                    <label for="tiempo_estimado_solucion">Tiempo Estimado para Solucionar el Problema:</label>
                    <input type="text" id="tiempo_estimado_solucion" name="tiempo_estimado_solucion"
                        placeholder="Ej. 2 horas, 1 día" required><br><br>

                    <label for="tiempo_estimado_llegada">Tiempo Estimado de Llegada a la Emergencia:</label>
                    <input type="text" id="tiempo_estimado_llegada" name="tiempo_estimado_llegada"
                        placeholder="Ej. 30 minutos, 2 horas" required><br><br>
                </fieldset>

                <!-- Sección 2: Detalles de la Emergencia -->
                <fieldset>
                    <legend>Detalles de la Emergencia</legend>

                    <label for="descripcion_actual">Descripción Actual de la Situación:</label><br>
                    <textarea id="descripcion_actual" name="descripcion_actual" rows="4" cols="50"
                        placeholder="Describa la situación actual y cualquier cambio en el problema"
                        required></textarea><br><br>

                    <label for="acciones_tomadas">Acciones Tomadas:</label><br>
                    <textarea id="acciones_tomadas" name="acciones_tomadas" rows="4" cols="50"
                        placeholder="Escriba las acciones que se han tomado hasta el momento"
                        required></textarea><br><br>

                    <label for="proximos_pasos">Próximos Pasos Recomendados:</label><br>
                    <textarea id="proximos_pasos" name="proximos_pasos" rows="4" cols="50"
                        placeholder="Describa los pasos recomendados para resolver la emergencia"
                        required></textarea><br><br>
                </fieldset>

                <!-- Sección 3: Confirmación y Evidencia -->
                <fieldset>
                    <legend>Confirmación y Evidencia</legend>

                    <label for="evidencia">Adjuntar Imágenes o Videos:</label>
                    <input type="file" id="evidencia" name="evidencia" accept="image/*, video/*"><br><br>

                    <label for="comentarios_adicionales">Comentarios Adicionales:</label><br>
                    <textarea id="comentarios_adicionales" name="comentarios_adicionales" rows="4" cols="50"
                        placeholder="Añada cualquier comentario adicional relevante"></textarea><br><br>
                </fieldset>

                <!-- Botón de envío -->
                <button type="submit">Enviar Informe</button>
            </form>
    </main>

    <footer>
        <p>© 2024 Luz Alerta. Todos los derechos reservados.</p>
    </footer>
</body>

</html>
