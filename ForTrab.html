<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informe de Situación Actual de Emergencia</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script>
        function enviarFormulario(event) {
            event.preventDefault();

            const formData = new FormData(event.target);

            fetch('/informar-situacion', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    console.log('Formulario enviado', data);
                    alert('Formulario enviado correctamente');
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Hubo un problema al enviar el formulario');
                });
        }
    </script>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">Luz Alerta</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#login">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">Quienes somos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contacto</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="container mt-5">
        <h1>Informe de Situación Actual de Emergencia</h1>
        <form id="form-emergencia" onsubmit="enviarFormulario(event)" enctype="multipart/form-data">
            <!-- Sección 1: Información del Reporte -->
            <fieldset class="border p-4 mb-4">
                <legend class="w-auto">Información del Reporte</legend>

                <div class="form-group">
                    <label for="id_emergencia">ID de la Emergencia:</label>
                    <input type="text" class="form-control" id="id_emergencia" name="id_emergencia" required readonly
                        value="123456">
                </div>

                <div class="form-group">
                    <label for="fecha_actualizacion">Fecha de Actualización:</label>
                    <input type="date" class="form-control" id="fecha_actualizacion" name="fecha_actualizacion"
                        required>
                </div>

                <div class="form-group">
                    <label for="hora_actualizacion">Hora de Actualización:</label>
                    <input type="time" class="form-control" id="hora_actualizacion" name="hora_actualizacion" required>
                </div>

                <div class="form-group">
                    <label for="estado_emergencia">Estado Actual de la Emergencia:</label>
                    <select class="form-control" id="estado_emergencia" name="estado_emergencia" required>
                        <option value="">Seleccione el estado actual</option>
                        <option value="en_proceso">En proceso</option>
                        <option value="resuelta">Resuelta</option>
                        <option value="pendiente">Pendiente</option>
                        <option value="suspendida">Suspendida</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="tiempo_estimado_solucion">Tiempo Estimado para Solucionar el Problema:</label>
                    <input type="text" class="form-control" id="tiempo_estimado_solucion"
                        name="tiempo_estimado_solucion" placeholder="Ej. 2 horas, 1 día" required>
                </div>

                <div class="form-group">
                    <label for="tiempo_estimado_llegada">Tiempo Estimado de Llegada a la Emergencia:</label>
                    <input type="text" class="form-control" id="tiempo_estimado_llegada" name="tiempo_estimado_llegada"
                        placeholder="Ej. 30 minutos, 2 horas" required>
                </div>
            </fieldset>

            <!-- Sección 2: Detalles de la Emergencia -->
            <fieldset class="border p-4 mb-4">
                <legend class="w-auto">Detalles de la Emergencia</legend>

                <div class="form-group">
                    <label for="descripcion_actual">Descripción Actual de la Situación:</label>
                    <textarea class="form-control" id="descripcion_actual" name="descripcion_actual" rows="4"
                        placeholder="Describa la situación actual y cualquier cambio en el problema"
                        required></textarea>
                </div>

                <div class="form-group">
                    <label for="acciones_tomadas">Acciones Tomadas:</label>
                    <textarea class="form-control" id="acciones_tomadas" name="acciones_tomadas" rows="4"
                        placeholder="Escriba las acciones que se han tomado hasta el momento" required></textarea>
                </div>

                <div class="form-group">
                    <label for="proximos_pasos">Próximos Pasos Recomendados:</label>
                    <textarea class="form-control" id="proximos_pasos" name="proximos_pasos" rows="4"
                        placeholder="Describa los pasos recomendados para resolver la emergencia" required></textarea>
                </div>
            </fieldset>

            <!-- Sección 3: Confirmación y Evidencia -->
            <fieldset class="border p-4 mb-4">
                <legend class="w-auto">Confirmación y Evidencia</legend>

                <div class="form-group">
                    <label for="evidencia">Adjuntar Imágenes o Videos:</label>
                    <input type="file" class="form-control-file" id="evidencia" name="evidencia"
                        accept="image/*, video/*">
                </div>

                <div class="form-group">
                    <label for="comentarios_adicionales">Comentarios Adicionales:</label>
                    <textarea class="form-control" id="comentarios_adicionales" name="comentarios_adicionales" rows="4"
                        placeholder="Añada cualquier comentario adicional relevante"></textarea>
                </div>
            </fieldset>

            <!-- Botón de envío -->
            <button type="submit" class="btn btn-primary">Enviar Informe</button>
        </form>
    </main>

    <footer class="bg-light text-center p-3 mt-5">
        <p>© 2024 Luz Alerta. Todos los derechos reservados.</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.7/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>